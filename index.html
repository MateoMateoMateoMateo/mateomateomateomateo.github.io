<html>
  <body>
    <center><div id="test">scroll to understand</div></center>
    <div id="wrapper" style="height: 400px; overflow: auto;">
      <div id="content"></div>
    </div>

    <script language="JavaScript">
      // Function to generate random text
      function generateRandomText() {
        const randomSentences = [
          "Lorem ipsum dolor sit amet.",
          "Consectetur adipiscing elit.",
          "Sed do eiusmod tempor incididunt.",
          "Ut labore et dolore magna aliqua.",
          "Ut enim ad minim veniam.",
          "Quis nostrud exercitation ullamco laboris nisi.",
          "Duis aute irure dolor in reprehenderit.",
          "Excepteur sint occaecat cupidatat non proident.",
          "Sunt in culpa qui officia deserunt mollit anim id est laborum."
        ];
        return randomSentences[Math.floor(Math.random() * randomSentences.length)];
      }

      var more = '<div style="height: 100px; background: #EEE; padding: 10px;">' + generateRandomText() + '</div>';

      var wrapper = document.getElementById("wrapper");
      var content = document.getElementById("content");
      var test = document.getElementById("test");
      content.innerHTML += more;  // Append initial content with random text

      // cross-browser addEvent, today you can safely use just addEventListener
      function addEvent(obj, ev, fn) {
        if (obj.addEventListener) obj.addEventListener(ev, fn, false);
        else if (obj.attachEvent) obj.attachEvent("on" + ev, fn);
      }

      // This is the scroll event handler
      function scroller() {
        // Print relevant scroll info
        test.innerHTML = "Keep scrolling!";

        // Add more random content if user scrolled down enough
        if (wrapper.scrollTop + wrapper.offsetHeight + 100 > content.offsetHeight) {
          content.innerHTML += '<div style="height: 100px; background: #EEE; padding: 10px;">' + generateRandomText() + '</div>';
        }
      }

      // Hook the scroll handler to the scroll event
      addEvent(wrapper, "scroll", scroller);
    </script>
  </body>
</html>
